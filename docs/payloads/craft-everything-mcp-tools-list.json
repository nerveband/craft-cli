{"result":{"tools":[{"name":"documents_list","title":"List Documents","description":"Document ID = root block ID for blocks_get. WARNING: No filters returns ALL documents. Use folders_list first. Paginated: use cursor from response for next page. CURSOR_INVALID = data changed.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"location":{"description":"Cannot combine with folderIds.","type":"string","enum":["unsorted","trash","templates","daily_notes"]},"folderIds":{"description":"Includes subfolders. Cannot combine with location.","type":"array","items":{"type":"string"}},"cursor":{"type":"string"},"fetchMetadata":{"default":false,"type":"boolean"},"createdDateGte":{"type":"string"},"createdDateLte":{"type":"string"},"lastModifiedDateGte":{"type":"string"},"lastModifiedDateLte":{"type":"string"},"dailyNoteDateGte":{"type":"string"},"dailyNoteDateLte":{"type":"string"}}},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"documents_create","title":"Create Documents","description":"Cannot create in 'trash'. Use blocks_add to add content.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"documents":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string"}},"required":["title"]}},"destination":{"description":"Default 'unsorted'. Cannot be 'trash'.","anyOf":[{"title":"By Destination","description":"Move to unsorted or templates","type":"object","properties":{"destination":{"title":"Destination","description":"Destination (unsorted or templates)","type":"string","enum":["unsorted","templates"]}},"required":["destination"]},{"title":"By Folder ID","description":"Move to a specific folder","type":"object","properties":{"folderId":{"title":"Folder ID","description":"The ID of the destination folder","type":"string"}},"required":["folderId"]}]}},"required":["documents"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"documents_move","title":"Move Documents","description":"Use documents_delete to move to trash. Restore from trash by moving out. Daily notes cannot be moved.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"documentIds":{"type":"array","items":{"type":"string"}},"destination":{"description":"To delete, use documents_delete instead.","anyOf":[{"title":"By Destination","description":"Move to unsorted or templates","type":"object","properties":{"destination":{"title":"Destination","description":"Destination (unsorted or templates)","type":"string","enum":["unsorted","templates"]}},"required":["destination"]},{"title":"By Folder ID","description":"Move to a specific folder","type":"object","properties":{"folderId":{"title":"Folder ID","description":"The ID of the destination folder","type":"string"}},"required":["folderId"]}]}},"required":["documentIds","destination"]},"annotations":{"readOnlyHint":false,"destructiveHint":true,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"documents_delete","title":"Delete Documents","description":"Soft-delete to trash. Auto-purged after 30 days. Use documents_move to restore.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"documentIds":{"type":"array","items":{"type":"string"}}},"required":["documentIds"]},"annotations":{"readOnlyHint":false,"destructiveHint":true,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"folders_list","title":"List Folders","description":"Returns all locations with document counts. Use as starting point before documents_list.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{}},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"folders_create","title":"Create Folders","description":"Cannot create inside built-in locations.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"folders":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"parentFolderId":{"description":"Omit for root level.","type":"string"}},"required":["name"]}}},"required":["folders"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"folders_move","title":"Move Folders","description":"Cannot move built-in locations or into descendants.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"folderIds":{"type":"array","items":{"type":"string"}},"destination":{"description":"{\"destination\": \"root\"} or {\"parentFolderId\": \"...\"}","anyOf":[{"title":"To Root","description":"Move folder to root level","type":"object","properties":{"destination":{"title":"Destination","description":"Move to root level","type":"string","const":"root"}},"required":["destination"]},{"title":"By Parent Folder ID","description":"Move folder inside another folder","type":"object","properties":{"parentFolderId":{"title":"Parent Folder ID","description":"The ID of the parent folder","type":"string"}},"required":["parentFolderId"]}]}},"required":["folderIds","destination"]},"annotations":{"readOnlyHint":false,"destructiveHint":true,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"folders_delete","title":"Delete Folders","description":"Contents moved to parent folder or Unsorted. Cannot delete built-in locations.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"folderIds":{"type":"array","items":{"type":"string"}}},"required":["folderIds"]},"annotations":{"readOnlyHint":false,"destructiveHint":true,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"blocks_get","title":"Fetch Blocks","description":"Use 'id' for block, or 'date' for daily note. Navigate: folders_list → documents_list → blocks_get. Paginated: use cursor from response for next page. CURSOR_INVALID = document changed.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"date":{"description":"Daily Note date. Mutually exclusive with 'id'.","example":"today","type":"string"},"id":{"description":"Block ID. Mutually exclusive with 'date'.","type":"string"},"maxDepth":{"description":"-1=all, 0=block only, 1=direct children.","default":-1,"type":"number"},"cursor":{"type":"string"},"fetchMetadata":{"default":false,"type":"boolean"},"format":{"description":"json=block IDs for edits, markdown=read-only.","default":"json","type":"string","enum":["json","markdown"]}}},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"blocks_add","title":"Insert Blocks","description":"Markdown in text blocks auto-expands to multiple blocks. For collections, use collectionItems_add.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"blocks":{"description":"Each block requires 'type'; other fields depend on type.","type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["text","page","code","richUrl","line","table","image","video","file"]},"markdown":{"description":"appliesTo: text, page","type":"string"},"rawCode":{"description":"appliesTo: code","type":"string"},"url":{"description":"appliesTo: richUrl, image, video, file","type":"string"},"textStyle":{"description":"body, h1-h4, caption, card, page. appliesTo: text, page","type":"string","enum":["card","page","h1","h2","h3","h4","caption","body"]},"textAlignment":{"description":"default is left","type":"string","enum":["left","center","right","justify"]},"font":{"type":"string","enum":["system","serif","rounded","mono"]},"cardLayout":{"description":"appliesTo: page with card style","type":"string","enum":["small","square","regular","large"]},"content":{"description":"Child blocks (recursive). appliesTo: text, page","type":"array","items":{"type":"object","properties":{},"additionalProperties":{}}},"language":{"description":"appliesTo: code","type":"string","enum":["ada","bash","cpp","cs","css","dart","dockerfile","matlab","go","groovy","haskell","html","java","javascript","json","julia","kotlin","lua","markdown","objectivec","perl","php","prolog","plaintext","python","r","ruby","rust","scala","shell","sql","swift","typescript","vbnet","xml","yaml","math_formula","other"]},"title":{"description":"appliesTo: richUrl","type":"string"},"description":{"description":"appliesTo: richUrl","type":"string"},"layout":{"description":"appliesTo: richUrl","type":"string","enum":["small","regular","card"]},"altText":{"description":"appliesTo: image, video","type":"string"},"size":{"description":"appliesTo: image, video","type":"string","enum":["fit","fill"]},"width":{"description":"appliesTo: image, video","type":"string","enum":["auto","fullWidth"]},"fileName":{"description":"appliesTo: file","type":"string"},"blockLayout":{"description":"appliesTo: file","type":"string","enum":["small","regular","card"]},"lineStyle":{"description":"appliesTo: line","type":"string","enum":["strong","regular","light","extraLight","pageBreak"]},"indentationLevel":{"type":"integer","minimum":0,"maximum":5},"listStyle":{"type":"string","enum":["none","bullet","numbered","toggle","task"]},"decorations":{"type":"array","items":{"type":"string","enum":["callout","quote"]}},"color":{"description":"#RRGGBB hex code","type":"string","pattern":"^#[0-9a-fA-F]{6}$"},"taskInfo":{"description":"When listStyle is 'task'","type":"object","properties":{"state":{"default":"todo","type":"string","enum":["todo","done","canceled"]},"scheduleDate":{"description":"Planned execution date of the task. ISO format YYYY-MM-DD","type":"string","format":"date"},"deadlineDate":{"description":"Due date of the task. ISO format YYYY-MM-DD","type":"string","format":"date"},"completedAt":{"description":"UTC timestamp when the task was marked as done. Only present when state is 'done'. Read-only.","readOnly":true,"type":"string","format":"date-time"},"canceledAt":{"description":"UTC timestamp when the task was canceled. Only present when state is 'canceled'. Read-only.","readOnly":true,"type":"string","format":"date-time"},"repeat":{"description":"Configuration for repeating tasks. When a repeating task is completed, it automatically resets to 'todo' with the next scheduled date. Set to null to remove repeat configuration.","anyOf":[{"type":"object","properties":{"type":{"description":"'flexible' schedules relative to completion date, 'fixed' schedules on specific dates","type":"string","enum":["flexible","fixed"]},"frequency":{"description":"How often the task repeats","type":"string","enum":["daily","weekly","monthly","yearly"]},"interval":{"description":"Repeat every N units (e.g., every 2 weeks). Defaults to 1.","type":"integer","minimum":1,"maximum":9007199254740991},"startDate":{"description":"Start date for the repeat schedule. ISO format YYYY-MM-DD.","type":"string","format":"date"},"daily":{"description":"Daily repeat options. Only used when frequency is 'daily'.","type":"object","properties":{"skipWeekends":{"type":"boolean"}}},"weekly":{"description":"Weekly repeat options. Only used when frequency is 'weekly'.","type":"object","properties":{"days":{"type":"array","items":{"type":"string","enum":["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}}},"required":["days"]},"monthly":{"description":"Monthly repeat options. Only used when frequency is 'monthly'.","type":"object","properties":{"days":{"type":"array","items":{"type":"integer","minimum":1,"maximum":31}},"dynamicDays":{"type":"array","items":{"type":"object","properties":{"selector":{"type":"string","enum":["first","last"]},"type":{"type":"string","const":"day"}},"required":["selector","type"]}},"skipWeekends":{"type":"boolean"}}},"yearly":{"description":"Yearly repeat options. Only used when frequency is 'yearly'.","type":"object","properties":{"months":{"type":"array","items":{"type":"integer","minimum":1,"maximum":12}},"days":{"type":"array","items":{"type":"integer","minimum":1,"maximum":31}},"dynamicDays":{"type":"array","items":{"type":"object","properties":{"selector":{"type":"string","enum":["first","last"]},"type":{"type":"string","const":"day"}},"required":["selector","type"]}}},"required":["months"]},"reminder":{"description":"Reminder configuration for the repeating task","type":"object","properties":{"enabled":{"type":"boolean"},"dateOffset":{"description":"Offset in minutes from midnight of the task's schedule date (e.g., 540 = 09:00)","type":"integer","minimum":-9007199254740991,"maximum":9007199254740991}},"required":["enabled"]}},"required":["type","frequency"]},{"type":"null"}]}}}},"required":["type"]}},"position":{"title":"Position","description":"Where to insert: 'start'/'end' for page positions, 'before'/'after' for sibling positions. Compatible with position types: all","type":"string","enum":["start","end","before","after"]},"pageId":{"title":"Page ID","description":"ID of the page block to insert into. Use with position 'start' or 'end'. Compatible with position types: page","type":"string"},"date":{"title":"Date","description":"Daily Note date to target. Accepts ISO format YYYY-MM-DD or relative dates: 'today', 'tomorrow', 'yesterday'. Use with position 'start' or 'end'. Compatible with position types: dailyNote","type":"string"},"siblingId":{"title":"Sibling ID","description":"ID of the block to insert next to. Use with position 'before' or 'after'. Compatible with position types: sibling","type":"string"}},"required":["blocks","position"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"markdown_add","title":"Insert Markdown","description":"Converts markdown to blocks.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"markdown":{"description":"The markdown content to insert, which will be converted to a flat list of blocks at insert position. Separate each paragraph and heading with two newlines. Separate each list item with one newline. The first item in any list cannot be empty. \nCraft-specific tokens are HTML tags.: \n - `<callout></callout>` for callouts. Can be used to wrap multiple paragraphs/images/etc.\n - `<caption></caption>` for caption text style. Can be used to wrap a paragraph.\n - `<highlight color=''></highlight>` for highlights - color is optional. Can only be used inline.\n - `<page><pageTitle>Title</pageTitle><content>Content</content></page>` for nested page/card structures - where title supports inline formatting, pages can be nested, and content accepts same markdown as top level markdown. Supports `<page textStyle='card' cardLayout='small|square|...'>` for card styled page blocks.\n\nSpecial link formats:\n - `[text](block://blockId)` for block links - links to specific blocks by their ID\n - `[text](date://YYYY-MM-DD)` for date links - links to daily notes by date","example":"# Hello World\n\nThis is a **markdown** example.","type":"string"},"position":{"title":"Position","description":"Where to insert: 'start'/'end' for page positions, 'before'/'after' for sibling positions. Compatible with position types: all","type":"string","enum":["start","end","before","after"]},"pageId":{"title":"Page ID","description":"ID of the page block to insert into. Use with position 'start' or 'end'. Compatible with position types: page","type":"string"},"date":{"title":"Date","description":"Daily Note date to target. Accepts ISO format YYYY-MM-DD or relative dates: 'today', 'tomorrow', 'yesterday'. Use with position 'start' or 'end'. Compatible with position types: dailyNote","type":"string"},"siblingId":{"title":"Sibling ID","description":"ID of the block to insert next to. Use with position 'before' or 'after'. Compatible with position types: sibling","type":"string"}},"required":["markdown","position"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"blocks_update","title":"Update Blocks","description":"For collection items, use collectionItems_update.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"blocks":{"title":"Blocks to Update","description":"The blocks to update, as JSON array.\nAccepts the same block structure as blocks_add, with the following key differences:\n- a string id is required (to identify the block to update)\n- type cannot be provided - block type is immutable and cannot be changed during updates\n- all properties besides id are optional - you only need to specify the fields you want to change","example":[{"id":"1","markdown":"Updated text content"}],"ref":"BlockUpdate","type":"array","items":{"type":"object","properties":{},"additionalProperties":{}}}},"required":["blocks"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"blocks_delete","title":"Delete Blocks","description":"For collection items, use collectionItems_delete.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"blockIds":{"type":"array","items":{"type":"string"}}},"required":["blockIds"]},"annotations":{"readOnlyHint":false,"destructiveHint":true,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"blocks_move","title":"Move Blocks","description":"Can move between any documents.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"blockIds":{"type":"array","items":{"type":"string"}},"position":{"description":"Use date/pageId/siblingId.","example":{"position":"start","date":"today"},"anyOf":[{"type":"object","properties":{"position":{"type":"string","enum":["start","end"]},"pageId":{"description":"Only page/text/card blocks can be parents. Text blocks auto-convert to page when receiving children.","type":"string"}},"required":["position","pageId"],"additionalProperties":false},{"type":"object","properties":{"date":{"description":"ISO YYYY-MM-DD or 'today'/'tomorrow'/'yesterday'. Defaults to 'today'.","example":"today","default":"today","type":"string"},"position":{"type":"string","enum":["start","end"]}},"required":["position"],"additionalProperties":false},{"type":"object","properties":{"position":{"type":"string","enum":["before","after"]},"siblingId":{"type":"string"}},"required":["position","siblingId"],"additionalProperties":false}]}},"required":["blockIds","position"]},"annotations":{"readOnlyHint":false,"destructiveHint":true,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"blocks_revert","title":"Revert Block Changes","description":"Reverts a previous mutation if blocks haven't been modified since. Used by widgets for undo/redo functionality.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"revertInfo":{"type":"object","properties":{"operation":{"anyOf":[{"type":"string","const":"add"},{"type":"string","const":"update"},{"type":"string","const":"delete"}]},"blockIds":{"type":"array","items":{"type":"string"}},"originalBlocks":{"type":"array","items":{}},"siblingsBefore":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"stamp":{"type":"string"}},"required":["id"]}},"siblingsAfter":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"stamp":{"type":"string"}},"required":["id"]}},"parentBlockId":{"type":"string"},"documentId":{"type":"string"},"expectedStamps":{"type":"object","propertyNames":{"type":"string"},"additionalProperties":{"type":"string"}}},"required":["operation","blockIds","expectedStamps"]}},"required":["revertInfo"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"},"_meta":{"openai/widgetAccessible":true}},{"name":"collections_create","title":"Create Collection","description":"","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"schema":{"type":"object","properties":{"name":{"type":"string"},"properties":{"maxItems":20,"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["text","number","date","url","email","phone","blockLink","relation","boolean","singleSelect","multiSelect"]},"name":{"type":"string"},"format":{"description":"appliesTo: number","type":"string","enum":["currency","percentage"]},"currency":{"description":"ISO 4217 code. Required if format='currency'. appliesTo: number","type":"string"},"targetCollectionId":{"description":"appliesTo: relation","type":"string"},"isBackReference":{"description":"appliesTo: relation","type":"boolean"},"options":{"description":"appliesTo: singleSelect, multiSelect","type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"color":{"type":"string","enum":["yellow","lime","mint-green","aqua-blue","sky-blue","lavender","pink","red","gray"]}},"required":["name"]}}},"required":["type","name"]}},"contentPropDetails":{"description":"Title column config","type":"object","properties":{"name":{"type":"string"}},"required":["name"]}},"required":["name","properties"]},"position":{"anyOf":[{"type":"object","properties":{"position":{"type":"string","enum":["start","end"]},"pageId":{"description":"Only page/text/card blocks can be parents. Text blocks auto-convert to page when receiving children.","type":"string"}},"required":["position"]},{"type":"object","properties":{"position":{"type":"string","enum":["before","after"]},"siblingId":{"type":"string"}},"required":["position","siblingId"]}]}},"required":["schema","position"]},"execution":{"taskSupport":"forbidden"}},{"name":"collectionSchema_get","title":"Get Collection Schema","description":"","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"collectionBlockId":{"type":"string"},"format":{"description":"schema=editable, json-schema-items=for add/update validation.","default":"schema","type":"string","enum":["schema","json-schema-items"]}},"required":["collectionBlockId"]},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"collectionSchema_update","title":"Update Collection Schema","description":"Replaces existing schema. Keep property keys unchanged for existing properties. Renaming select options loses existing data.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"collectionBlockId":{"type":"string"},"schema":{"description":"Replaces existing schema. Keep property keys for existing props.","type":"object","properties":{"name":{"type":"string"},"properties":{"maxItems":20,"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["text","number","date","url","email","phone","blockLink","relation","boolean","singleSelect","multiSelect"]},"name":{"type":"string"},"key":{"description":"Keep unchanged for existing props. Omit for new props.","type":"string"},"format":{"description":"appliesTo: number","type":"string","enum":["currency","percentage"]},"currency":{"description":"ISO 4217 code. Required if format='currency'. appliesTo: number","type":"string"},"targetCollectionId":{"description":"appliesTo: relation","type":"string"},"isBackReference":{"description":"appliesTo: relation","type":"boolean"},"options":{"description":"appliesTo: singleSelect, multiSelect","type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"color":{"type":"string","enum":["yellow","lime","mint-green","aqua-blue","sky-blue","lavender","pink","red","gray"]}},"required":["name"]}}},"required":["type","name"]}},"contentPropDetails":{"description":"Title column config","type":"object","properties":{"name":{"type":"string"}},"required":["name"]}},"required":["name","properties"]}},"required":["collectionBlockId","schema"]},"execution":{"taskSupport":"forbidden"}},{"name":"collections_list","title":"List Collections","description":"","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"documentIds":{"type":"array","items":{"type":"string"}}}},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"collectionItems_add","title":"Add Collection Items","description":"Use collectionSchema_get(format='json-schema-items') first. Two-way relations sync automatically.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"collectionBlockId":{"type":"string"},"items":{"description":"Must match collection schema. Validated at runtime.","type":"array","items":{"type":"object","properties":{},"additionalProperties":{}}},"allowNewSelectOptions":{"description":"Auto-add new select options. Only with explicit user intent.","example":false,"type":"boolean"}},"required":["collectionBlockId","items"]},"execution":{"taskSupport":"forbidden"}},{"name":"collectionItems_get","title":"Get Collection Items","description":"Paginated: use cursor from response for next page. CURSOR_INVALID = collection changed.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"collectionBlockId":{"type":"string"},"maxDepth":{"description":"-1=all, 0=props only.","default":-1,"type":"number"},"format":{"description":"json=block arrays, markdown=contentMarkdown field.","default":"json","type":"string","enum":["json","markdown"]},"cursor":{"description":"Pagination cursor from previous response. Returns CURSOR_INVALID if collection changed.","type":"string"}},"required":["collectionBlockId"]},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"collectionItems_update","title":"Update Collection Items","description":"Two-way relations sync automatically.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"collectionBlockId":{"type":"string"},"itemsToUpdate":{"description":"Each item needs id. Validated at runtime.","type":"array","items":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"],"additionalProperties":{}}},"allowNewSelectOptions":{"description":"Auto-add new select options. Only with explicit user intent.","example":false,"type":"boolean"}},"required":["collectionBlockId","itemsToUpdate"]},"execution":{"taskSupport":"forbidden"}},{"name":"collectionItems_delete","title":"Delete Collection Items","description":"Also deletes content inside item pages.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"collectionBlockId":{"type":"string"},"idsToDelete":{"example":["1","2"],"type":"array","items":{"type":"string"}}},"required":["collectionBlockId","idsToDelete"]},"execution":{"taskSupport":"forbidden"}},{"name":"document_search","title":"Search in Document","description":"Use documents_search first, then this for more context. Matched blocks: `<blockId>: content`.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"blockId":{"type":"string"},"pattern":{"description":"RE2 regex.","type":"string"},"caseSensitive":{"default":false,"type":"boolean"},"beforeBlockCount":{"default":5,"type":"number"},"afterBlockCount":{"default":5,"type":"number"}},"required":["blockId","pattern"]},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"documents_search","title":"Search across Documents","description":"Prefer regexp filters. Returns max 20 results per page with **bold** highlighting. If pagination.cursor is present, pass it to get the next page. CURSOR_INVALID error means data changed - restart without cursor. For more context, use document_search.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"include":{"description":"All terms must match (AND).","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"regexps":{"description":"RE2 regex. All patterns must match (AND). Use lowercase.","anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"documentIds":{"description":"Cannot combine with location/folderIds.","type":"array","items":{"type":"string"}},"fetchMetadata":{"default":false,"type":"boolean"},"cursor":{"type":"string"},"location":{"description":"Cannot combine with folderIds.","type":"string","enum":["unsorted","trash","templates","daily_notes"]},"folderIds":{"description":"Includes subfolders. Cannot combine with location.","type":"array","items":{"type":"string"}},"createdDateGte":{"type":"string"},"createdDateLte":{"type":"string"},"lastModifiedDateGte":{"type":"string"},"lastModifiedDateLte":{"type":"string"},"dailyNoteDateGte":{"type":"string"},"dailyNoteDateLte":{"type":"string"}}},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"tasks_get","title":"Get Tasks","description":"Scopes: active, upcoming, inbox, logbook, document (requires documentId). Paginated: use cursor from response for next page. CURSOR_INVALID = tasks changed.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"scope":{"description":"active/upcoming/inbox/logbook/document. 'document' requires documentId.","type":"string","enum":["active","upcoming","inbox","logbook","document"]},"documentId":{"description":"Required when scope='document'.","type":"string"},"cursor":{"type":"string"}},"required":["scope"]},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"tasks_add","title":"Add Tasks","description":"Location: inbox, dailyNote (by date), or document (by documentId).","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"tasks":{"type":"array","items":{"type":"object","properties":{"markdown":{"type":"string"},"taskInfo":{"type":"object","properties":{"state":{"default":"todo","type":"string","enum":["todo","done","canceled"]},"scheduleDate":{"type":"string"},"deadlineDate":{"type":"string"}}},"location":{"type":"object","properties":{"type":{"description":"'inbox', 'dailyNote', or 'document'","type":"string","enum":["inbox","dailyNote","document"]},"documentId":{"description":"Required for type='document'.","type":"string"},"date":{"description":"For type='dailyNote'. Defaults to 'today'.","type":"string"}},"required":["type"]},"repeat":{"description":"Completed tasks auto-reset to 'todo' with next date.","type":"object","properties":{"type":{"description":"'flexible' schedules relative to completion date, 'fixed' schedules on specific dates","type":"string","enum":["flexible","fixed"]},"frequency":{"description":"How often the task repeats","type":"string","enum":["daily","weekly","monthly","yearly"]},"interval":{"description":"Repeat every N units (e.g., every 2 weeks). Defaults to 1.","type":"integer","minimum":1,"maximum":9007199254740991},"startDate":{"description":"Start date for the repeat schedule. ISO format YYYY-MM-DD.","type":"string","format":"date"},"daily":{"description":"Daily repeat options. Only used when frequency is 'daily'.","type":"object","properties":{"skipWeekends":{"type":"boolean"}}},"weekly":{"description":"Weekly repeat options. Only used when frequency is 'weekly'.","type":"object","properties":{"days":{"type":"array","items":{"type":"string","enum":["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}}},"required":["days"]},"monthly":{"description":"Monthly repeat options. Only used when frequency is 'monthly'.","type":"object","properties":{"days":{"type":"array","items":{"type":"integer","minimum":1,"maximum":31}},"dynamicDays":{"type":"array","items":{"type":"object","properties":{"selector":{"type":"string","enum":["first","last"]},"type":{"type":"string","const":"day"}},"required":["selector","type"]}},"skipWeekends":{"type":"boolean"}}},"yearly":{"description":"Yearly repeat options. Only used when frequency is 'yearly'.","type":"object","properties":{"months":{"type":"array","items":{"type":"integer","minimum":1,"maximum":12}},"days":{"type":"array","items":{"type":"integer","minimum":1,"maximum":31}},"dynamicDays":{"type":"array","items":{"type":"object","properties":{"selector":{"type":"string","enum":["first","last"]},"type":{"type":"string","const":"day"}},"required":["selector","type"]}}},"required":["months"]},"reminder":{"description":"Reminder configuration for the repeating task","type":"object","properties":{"enabled":{"type":"boolean"},"dateOffset":{"description":"Offset in minutes from midnight of the task's schedule date (e.g., 540 = 09:00)","type":"integer","minimum":-9007199254740991,"maximum":9007199254740991}},"required":["enabled"]}},"required":["type","frequency"]}},"required":["markdown","location"]}}},"required":["tasks"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"tasks_update","title":"Update Tasks","description":"Done/canceled tasks auto-move to logbook. Use 'location' to move tasks.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"tasksToUpdate":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"markdown":{"type":"string"},"taskInfo":{"type":"object","properties":{"state":{"description":"done/canceled auto-moves to logbook.","type":"string","enum":["todo","done","canceled"]},"scheduleDate":{"type":"string"},"deadlineDate":{"type":"string"}}},"location":{"type":"object","properties":{"type":{"description":"'inbox', 'dailyNote', or 'document'","type":"string","enum":["inbox","dailyNote","document"]},"documentId":{"description":"Required for type='document'.","type":"string"},"date":{"description":"For type='dailyNote'. Defaults to 'today'.","type":"string"}},"required":["type"]},"repeat":{"description":"null removes repeat config.","anyOf":[{"type":"object","properties":{"type":{"description":"'flexible' schedules relative to completion date, 'fixed' schedules on specific dates","type":"string","enum":["flexible","fixed"]},"frequency":{"description":"How often the task repeats","type":"string","enum":["daily","weekly","monthly","yearly"]},"interval":{"description":"Repeat every N units (e.g., every 2 weeks). Defaults to 1.","type":"integer","minimum":1,"maximum":9007199254740991},"startDate":{"description":"Start date for the repeat schedule. ISO format YYYY-MM-DD.","type":"string","format":"date"},"daily":{"description":"Daily repeat options. Only used when frequency is 'daily'.","type":"object","properties":{"skipWeekends":{"type":"boolean"}}},"weekly":{"description":"Weekly repeat options. Only used when frequency is 'weekly'.","type":"object","properties":{"days":{"type":"array","items":{"type":"string","enum":["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}}},"required":["days"]},"monthly":{"description":"Monthly repeat options. Only used when frequency is 'monthly'.","type":"object","properties":{"days":{"type":"array","items":{"type":"integer","minimum":1,"maximum":31}},"dynamicDays":{"type":"array","items":{"type":"object","properties":{"selector":{"type":"string","enum":["first","last"]},"type":{"type":"string","const":"day"}},"required":["selector","type"]}},"skipWeekends":{"type":"boolean"}}},"yearly":{"description":"Yearly repeat options. Only used when frequency is 'yearly'.","type":"object","properties":{"months":{"type":"array","items":{"type":"integer","minimum":1,"maximum":12}},"days":{"type":"array","items":{"type":"integer","minimum":1,"maximum":31}},"dynamicDays":{"type":"array","items":{"type":"object","properties":{"selector":{"type":"string","enum":["first","last"]},"type":{"type":"string","const":"day"}},"required":["selector","type"]}}},"required":["months"]},"reminder":{"description":"Reminder configuration for the repeating task","type":"object","properties":{"enabled":{"type":"boolean"},"dateOffset":{"description":"Offset in minutes from midnight of the task's schedule date (e.g., 540 = 09:00)","type":"integer","minimum":-9007199254740991,"maximum":9007199254740991}},"required":["enabled"]}},"required":["type","frequency"]},{"type":"null"}]}},"required":["id"]}}},"required":["tasksToUpdate"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"tasks_delete","title":"Delete Tasks","description":"","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"idsToDelete":{"type":"array","items":{"type":"string"}}},"required":["idsToDelete"]},"annotations":{"readOnlyHint":false,"destructiveHint":true,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"connection_info","title":"Get Connection Info","description":"Returns space ID, timezone, current time, and URL templates for deep linking.","inputSchema":{"type":"object","properties":{}},"annotations":{"readOnlyHint":true,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}},{"name":"comments_add","title":"Add comments","description":"Add comments to blocks.","inputSchema":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","properties":{"comments":{"description":"List of comments to add.","example":[{"blockId":"abc123","content":"This is a comment."}],"type":"array","items":{"type":"object","properties":{"blockId":{"description":"The ID of the block to add a comment to.","example":"abc123","type":"string"},"content":{"description":"The comment text content.","example":"This is a comment.","type":"string"}},"required":["blockId","content"]}}},"required":["comments"]},"annotations":{"readOnlyHint":false,"destructiveHint":false,"openWorldHint":false},"execution":{"taskSupport":"forbidden"}}]},"jsonrpc":"2.0","id":1}